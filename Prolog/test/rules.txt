:-dynamic facto/2,ultimo_facto/1.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Metaconhecimento

facto_dispara_regras(pergunta(_, sim), [1,5,7]).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%ultimo_facto(0).
ultima_regra(10).

% Regras Quiz DSM-5
regra 1
    se [pergunta(41, sim)]
    entao [cria_facto(conclusao(anxiety_secondary_factor))].

regra 2
    se [pergunta(42, nao)]
    entao [cria_facto(conclusao(anxiety_as_normal_factor))].

regra 3
    se [pergunta(43, nao)]
    entao [cria_facto(conclusao(anxiety_as_normal_factor))].

regra 4
 se [avalia(pergunta(44, nao))]
 entao [cria_facto(conclusao(check_the_doctor))].


regra 5
    se [pergunta(45, sim)]
    entao [cria_facto(conclusao(anxiety_secondary_factor))].

regra 6
    se [pergunta(46, nao)]
    entao [cria_facto(conclusao(anxiety_as_normal_factor))].
    
regra 7
    se [pergunta(47, sim)]
    entao [cria_facto(conclusao(anxiety_meds_factor))].

%regra 8 se nao houver factos criados a conclusÃ£o sera iniciar quiz40


% QUiz40
regra 8
    se [tipo(Transtorno,sindrome_ansiedade_generalizada) e avalia(valor(Transtorno,>=,15))]
    entao [cria_facto(probabilidade(Transtorno,provavel))].

regra 9
    se [tipo(Transtorno,sindrome_ansiedade_generalizada) e avalia(valor(Transtorno,<,15))]
    entao [cria_facto(probabilidade(Transtorno,naoprovavel))].

regra 10
    se [avalia(valor(Transtorno,>,20))]
    entao [cria_facto(probabilidade(Transtorno,maisprovavel))].






